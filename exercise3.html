<script>
    var qtyApple, qtyGrape, qtyOrange;

    var applePrice = 10000; 
    var grapePrice = 15000;
    var orangePrice = 20000;

    var stockApple = 5;
    var stockGrape = 8;
    var stockOrange = 10;

    var qtyCondition = true;

    // Cek kondisi duluan

do{
    while(qtyCondition){
        qtyApple = prompt('Masukkan jumlah Apel Rp. ' + applePrice + ' \nStock Apel: ' + stockApple);
        if(qtyApple > stockApple || qtyApple < 0 || qtyApple == ''){
            alert('Stock Apel tidak mencukupi');
            qtyCondition = true;
        }else{
            alert('Stock Apel cukup');
            qtyCondition = false;
        }
    }

    // Cek kondisi di belakang
    do{
        qtyGrape = prompt('Masukkan jumlah Anggur Rp. ' + grapePrice + ' \nStock Anggur: ' + stockGrape);
        if(qtyGrape > stockGrape){
            alert('Stock Anggur tidak mencukupi');
            qtyCondition = true;
        }else{
            alert('Stock Anggur cukup');
            qtyCondition = false;
        }
    }while(qtyCondition) // disini

    do{
        qtyOrange = prompt('Masukkan jumlah Jeruk Rp. ' + orangePrice + ' \nStock Jeruk: ' + stockOrange);
        if(qtyOrange > stockOrange){
            alert('Stock Jeruk tidak mencukupi');
            qtyCondition = true;
        }else{
            alert('Stock Jeruk cukup');
            qtyCondition = false;
        }
    }while(qtyCondition)

    if(qtyApple == 0 && qtyGrape == 0 && qtyOrange == 0){
        alert('Mohon masukkan kuantitas buah di input yang tersedia');
        qtyCondition = true;
    }

}while(qtyCondition)

    var totalApple = qtyApple * applePrice; 
    var totalGrape = qtyGrape * grapePrice; 
    var totalOrange = qtyOrange * orangePrice;
    var total = totalApple + totalGrape + totalOrange; 

    alert(
        'Detail Belanja \n\n ' +
        'Apel: ' + qtyApple + ' x ' + applePrice + ' = Rp. ' + totalApple + '\n' +
        'Anggur: ' + qtyGrape + ' x ' + grapePrice + ' = Rp. ' + totalGrape + '\n' +
        'Jeruk: ' + qtyOrange + ' x ' + orangePrice + ' = Rp. ' + totalOrange + '\n\n' +
        'Total: Rp.' + total
    );

    var moneyCondition = true;
    while(moneyCondition){
        var money = prompt('Masukkan jumlah uang \nTotal Biaya: Rp. ' + total);
        var margin = money - total;
        if(money < total){
            alert('Uang and tidak mencukupi \nKurang sebesar: Rp. ' + margin);
            moneyCondition = true;
        }
        else{
            alert('Terima Kasih\n Uang kembalian anda sebesar: Rp. ' + margin);
            moneyCondition = false;
        }
    }
</script>